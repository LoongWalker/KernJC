cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    drm/amdgpu: Init zone device and drm client after mode-1 reset on reload


    In passthrough environment, when amdgpu is reloaded after unload, mode-1

    is triggered after initializing the necessary IPs, That init does not

    include KFD, and KFD init waits until the reset is completed. KFD init

    is called in the reset handler, but in this case, the zone device and

    drm client is not initialized, causing app to create kernel panic.


    v2: Removing the init KFD condition from amdgpu_amdkfd_drm_client_create.

    As the previous version has the potential of creating DRM client twice.


    v3: v2 patch results in SDMA engine hung as DRM open causes VM clear to SDMA

    before SDMA init. Adding the condition to in drm client creation, on top of v1,

    to guard against drm client creation call multiple times.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: drm/amdgpu:\
    \ dispositivo de zona de inicio y cliente drm despu\xE9s del restablecimiento\
    \ del modo 1 al recargar. En el entorno de paso a trav\xE9s, cuando amdgpu se\
    \ recarga despu\xE9s de la descarga, el modo 1 se activa despu\xE9s de inicializar\
    \ las IP necesarias. Ese inicio no incluye KFD, y el inicio de KFD espera hasta\
    \ que se complete el reinicio. Se llama a KFD init en el controlador de reinicio,\
    \ pero en este caso, el dispositivo de zona y el cliente drm no se inicializan,\
    \ lo que hace que la aplicaci\xF3n genere p\xE1nico en el kernel. v2: Eliminaci\xF3\
    n de la condici\xF3n KFD inicial de amdgpu_amdkfd_drm_client_create. Como la versi\xF3\
    n anterior tiene el potencial de crear un cliente DRM dos veces. v3: el parche\
    \ v2 hace que el motor SDMA se bloquee porque la apertura de DRM hace que la VM\
    \ se borre a SDMA antes de que se inicie SDMA. Agregar la condici\xF3n a la creaci\xF3\
    n del cliente DRM, adem\xE1s de la versi\xF3n 1, para protegerse contra llamadas\
    \ de creaci\xF3n del cliente DRM varias veces."
id: CVE-2024-36022
lastModified: '2024-05-30T18:19:11.743'
metrics: {}
published: '2024-05-30T15:15:49.263'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4f8154f775197d0021b690c2945d6a4d8094c8f6
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/f679fd6057fbf5ab34aaee28d58b7f81af0cbf48
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
