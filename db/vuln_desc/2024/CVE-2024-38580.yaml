cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    epoll: be better about file lifetimes


    epoll can call out to vfs_poll() with a file pointer that may race with

    the last ''fput()''. That would make f_count go down to zero, and while

    the ep->mtx locking means that the resulting file pointer tear-down will

    be blocked until the poll returns, it means that f_count is already

    dead, and any use of it won''t actually get a reference to the file any

    more: it''s dead regardless.


    Make sure we have a valid ref on the file pointer before we call down to

    vfs_poll() from the epoll routines.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: epoll:\
    \ mejore la duraci\xF3n de los archivos epoll puede llamar a vfs_poll() con un\
    \ puntero de archivo que puede competir con el \xFAltimo 'fput()'. Eso har\xED\
    a que f_count bajara a cero, y aunque el bloqueo ep-&gt;mtx significa que el desmontaje\
    \ del puntero del archivo resultante se bloquear\xE1 hasta que regrese la encuesta,\
    \ significa que f_count ya est\xE1 muerto y no se podr\xE1 utilizar. De hecho,\
    \ ya no obtengo una referencia al archivo: est\xE1 muerto de todos modos. Aseg\xFA\
    rese de tener una referencia v\xE1lida en el puntero del archivo antes de llamar\
    \ a vfs_poll() desde las rutinas de epoll."
id: CVE-2024-38580
lastModified: '2024-06-20T12:44:01.637'
metrics: {}
published: '2024-06-19T14:15:18.057'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/16e3182f6322575eb7c12e728ad3c7986a189d5d
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4efaa5acf0a1d2b5947f98abb3acf8bfd966422b
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4f65f4defe4e23659275ce5153541cd4f76ce2d2
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/559214eb4e5c3d05e69428af2fae2691ba1eb784
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/cbfd1088e24ec4c1199756a37cb8e4cd0a4b016e
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
