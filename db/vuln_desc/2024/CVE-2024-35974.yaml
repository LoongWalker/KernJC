cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    block: fix q->blkg_list corruption during disk rebind


    Multiple gendisk instances can allocated/added for single request queue

    in case of disk rebind. blkg may still stay in q->blkg_list when calling

    blkcg_init_disk() for rebind, then q->blkg_list becomes corrupted.


    Fix the list corruption issue by:


    - add blkg_init_queue() to initialize q->blkg_list & q->blkcg_mutex only

    - move calling blkg_init_queue() into blk_alloc_queue()


    The list corruption should be started since commit f1c006f1c685 ("blk-cgroup:

    synchronize pd_free_fn() from blkg_free_workfn() and blkcg_deactivate_policy()")

    which delays removing blkg from q->blkg_list into blkg_free_workfn().'
- lang: es
  value: " En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: bloque:\
    \ corrige la corrupci\xF3n de q-&gt;blkg_list durante la revinculaci\xF3n del\
    \ disco. Se pueden asignar/agregar m\xFAltiples instancias de gendisk para una\
    \ \xFAnica cola de solicitudes en caso de volver a vincular el disco. Es posible\
    \ que blkg a\xFAn permanezca en q-&gt;blkg_list cuando se llama a blkcg_init_disk()\
    \ para volver a vincular, entonces q-&gt;blkg_list se corrompe. Solucione el problema\
    \ de corrupci\xF3n de la lista: - agregue blkg_init_queue() para inicializar q-&gt;blkg_list\
    \ &amp; q-&gt;blkcg_mutex solamente - mueva la llamada a blkg_init_queue() a blk_alloc_queue()\
    \ La corrupci\xF3n de la lista debe iniciarse desde la confirmaci\xF3n f1c006f1c685\
    \ (\"blk-cgroup: sincronizar pd_free_fn() de blkg_free_workfn() y blkcg_deactivate_policy()\"\
    ) que retrasa la eliminaci\xF3n de blkg de q-&gt;blkg_list en blkg_free_workfn()."
id: CVE-2024-35974
lastModified: '2024-05-20T13:00:04.957'
metrics: {}
published: '2024-05-20T10:15:12.147'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/740ffad95ca8033bd6e080ed337655b13b4d38ac
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/858c489d81d659af17a4d11cfaad2afb42e47a76
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/8b8ace080319a866f5dfe9da8e665ae51d971c54
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
