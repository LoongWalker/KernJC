cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    Bluetooth: qca: Fix BT enable failure again for QCA6390 after warm reboot


    Commit 272970be3dab ("Bluetooth: hci_qca: Fix driver shutdown on closed

    serdev") will cause below regression issue:


    BT can''t be enabled after below steps:

    cold boot -> enable BT -> disable BT -> warm reboot -> BT enable failure

    if property enable-gpios is not configured within DT|ACPI for QCA6390.


    The commit is to fix a use-after-free issue within qca_serdev_shutdown()

    by adding condition to avoid the serdev is flushed or wrote after closed

    but also introduces this regression issue regarding above steps since the

    VSC is not sent to reset controller during warm reboot.


    Fixed by sending the VSC to reset controller within qca_serdev_shutdown()

    once BT was ever enabled, and the use-after-free issue is also fixed by

    this change since the serdev is still opened before it is flushed or wrote.


    Verified by the reported machine Dell XPS 13 9310 laptop over below two

    kernel commits:

    commit e00fc2700a3f ("Bluetooth: btusb: Fix triggering coredump

    implementation for QCA") of bluetooth-next tree.

    commit b23d98d46d28 ("Bluetooth: btusb: Fix triggering coredump

    implementation for QCA") of linus mainline tree.'
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: Bluetooth:\
    \ qca: corrija el error de habilitaci\xF3n de BT nuevamente para QCA6390 despu\xE9\
    s de un reinicio en caliente. La confirmaci\xF3n 272970be3dab (\"Bluetooth: hci_qca:\
    \ corrija el apagado del controlador en un serdev cerrado\") causar\xE1 el siguiente\
    \ problema de regresi\xF3n: BT puede No se habilitar\xE1 despu\xE9s de los pasos\
    \ siguientes: arranque en fr\xEDo -&gt; habilitar BT -&gt; deshabilitar BT -&gt;\
    \ reinicio en caliente -&gt; falla de habilitaci\xF3n de BT si la propiedad enable-gpios\
    \ no est\xE1 configurada dentro de DT|ACPI para QCA6390. El compromiso es solucionar\
    \ un problema de use after free dentro de qca_serdev_shutdown() agregando una\
    \ condici\xF3n para evitar que el serdev se vac\xEDe o escriba despu\xE9s de cerrarse,\
    \ pero tambi\xE9n introduce este problema de regresi\xF3n con respecto a los pasos\
    \ anteriores, ya que el VSC no se env\xEDa para restablecer el controlador durante\
    \ el reinicio en caliente. . Se solucion\xF3 enviando el VSC para restablecer\
    \ el controlador dentro de qca_serdev_shutdown() una vez que BT estuvo habilitado,\
    \ y el problema de use after free tambi\xE9n se solucion\xF3 con este cambio ya\
    \ que el serdev todav\xEDa est\xE1 abierto antes de vaciarse o escribirse. Verificado\
    \ por la computadora port\xE1til Dell XPS 13 9310 de la m\xE1quina informada en\
    \ las siguientes dos confirmaciones del kernel: confirmaci\xF3n e00fc2700a3f (\"\
    Bluetooth: btusb: soluci\xF3n de activaci\xF3n de la implementaci\xF3n de coredump\
    \ para QCA\") del \xE1rbol siguiente de bluetooth. confirme b23d98d46d28 (\"Bluetooth:\
    \ btusb: soluci\xF3n que activa la implementaci\xF3n de coredump para QCA\") del\
    \ \xE1rbol principal de Linux."
id: CVE-2024-42137
lastModified: '2024-07-30T13:32:45.943'
metrics: {}
published: '2024-07-30T08:15:05.583'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/215a26c2404fa34625c725d446967fa328a703eb
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4ca6013cd18e58ac1044908c40d4006a92093a11
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/88e72239ead9814b886db54fc4ee39ef3c2b8f26
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/977b9dc65e14fb80de4763d949c7dec2ecb15b9b
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/e2d8aa4c763593704ac21e7591aed4f13e32f3b5
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/e6e200b264271f62a3fadb51ada9423015ece37b
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
