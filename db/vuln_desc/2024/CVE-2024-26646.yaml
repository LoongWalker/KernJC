descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    thermal: intel: hfi: Add syscore callbacks for system-wide PM


    The kernel allocates a memory buffer and provides its location to the

    hardware, which uses it to update the HFI table. This allocation occurs

    during boot and remains constant throughout runtime.


    When resuming from hibernation, the restore kernel allocates a second

    memory buffer and reprograms the HFI hardware with the new location as

    part of a normal boot. The location of the second memory buffer may

    differ from the one allocated by the image kernel.


    When the restore kernel transfers control to the image kernel, its HFI

    buffer becomes invalid, potentially leading to memory corruption if the

    hardware writes to it (the hardware continues to use the buffer from the

    restore kernel).


    It is also possible that the hardware "forgets" the address of the memory

    buffer when resuming from "deep" suspend. Memory corruption may also occur

    in such a scenario.


    To prevent the described memory corruption, disable HFI when preparing to

    suspend or hibernate. Enable it when resuming.


    Add syscore callbacks to handle the package of the boot CPU (packages of

    non-boot CPUs are handled via CPU offline). Syscore ops always run on the

    boot CPU. Additionally, HFI only needs to be disabled during "deep" suspend

    and hibernation. Syscore ops only run in these cases.


    [ rjw: Comment adjustment, subject and changelog edits ]'
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: t\xE9\
    rmica: intel: hfi: agregar devoluciones de llamada de syscore para PM en todo\
    \ el sistema El kernel asigna un b\xFAfer de memoria y proporciona su ubicaci\xF3\
    n al hardware, que lo utiliza para actualizar la tabla HFI. Esta asignaci\xF3\
    n ocurre durante el arranque y permanece constante durante el tiempo de ejecuci\xF3\
    n. Al salir de la hibernaci\xF3n, el kernel de restauraci\xF3n asigna un segundo\
    \ b\xFAfer de memoria y reprograma el hardware HFI con la nueva ubicaci\xF3n como\
    \ parte de un inicio normal. La ubicaci\xF3n del segundo b\xFAfer de memoria puede\
    \ diferir de la asignada por el n\xFAcleo de la imagen. Cuando el kernel de restauraci\xF3\
    n transfiere el control al kernel de imagen, su b\xFAfer HFI deja de ser v\xE1\
    lido, lo que puede provocar da\xF1os en la memoria si el hardware escribe en \xE9\
    l (el hardware contin\xFAa usando el b\xFAfer del kernel de restauraci\xF3n).\
    \ Tambi\xE9n es posible que el hardware \"olvide\" la direcci\xF3n del b\xFAfer\
    \ de memoria al reanudar desde una suspensi\xF3n \"profunda\". En tal escenario\
    \ tambi\xE9n puede ocurrir corrupci\xF3n de memoria. Para evitar la corrupci\xF3\
    n de memoria descrita, desactive HFI cuando se prepare para suspender o hibernar.\
    \ Habil\xEDtelo al reanudar. Agregue devoluciones de llamada de syscore para manejar\
    \ el paquete de la CPU de arranque (los paquetes de CPU que no son de arranque\
    \ se manejan a trav\xE9s de la CPU sin conexi\xF3n). Las operaciones de Syscore\
    \ siempre se ejecutan en la CPU de arranque. Adem\xE1s, HFI solo necesita desactivarse\
    \ durante la suspensi\xF3n e hibernaci\xF3n \"profundas\". Las operaciones de\
    \ Syscore solo se ejecutan en estos casos. [rjw: ajuste de comentarios, ediciones\
    \ de asunto y registro de cambios]"
id: CVE-2024-26646
lastModified: '2024-03-27T12:29:41.530'
metrics: {}
published: '2024-03-26T18:15:09.910'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/019ccc66d56a696a4dfee3bfa2f04d0a7c3d89ee
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/28f010dc50df0f7987c04112114fcfa7e0803566
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/97566d09fd02d2ab329774bb89a2cdf2267e86d9
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/c9d6d63b6c03afaa6f185df249af693a7939577c
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
