descriptions:
- lang: en
  value: "In the Linux kernel, the following vulnerability has been resolved:\n\n\
    mm: turn folio_test_hugetlb into a PageType\n\nThe current folio_test_hugetlb()\
    \ can be fooled by a concurrent folio split\ninto returning true for a folio which\
    \ has never belonged to hugetlbfs. \nThis can't happen if the caller holds a refcount\
    \ on it, but we have a few\nplaces (memory-failure, compaction, procfs) which\
    \ do not and should not\ntake a speculative reference.\n\nSince hugetlb pages\
    \ do not use individual page mapcounts (they are always\nfully mapped and use\
    \ the entire_mapcount field to record the number of\nmappings), the PageType field\
    \ is available now that page_mapcount()\nignores the value in this field.\n\n\
    In compaction and with CONFIG_DEBUG_VM enabled, the current implementation\ncan\
    \ result in an oops, as reported by Luis. This happens since 9c5ccf2db04b\n(\"\
    mm: remove HUGETLB_PAGE_DTOR\") effectively added some VM_BUG_ON() checks\nin\
    \ the PageHuge() testing path.\n\n[willy@infradead.org: update vmcoreinfo]\n \
    \ Link: https://lkml.kernel.org/r/ZgGZUvsdhaT1Va-T@casper.infradead.org"
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: mm: convierte\
    \ folio_test_hugetlb en un PageType. El folio_test_hugetlb() actual puede ser\
    \ enga\xF1ado por una divisi\xF3n de folio concurrente y devuelve verdadero para\
    \ un folio que nunca ha pertenecido a hugetlbfs. Esto no puede suceder si la persona\
    \ que llama tiene un recuento sobre \xE9l, pero tenemos algunos lugares (fallo\
    \ de memoria, compactaci\xF3n, procfs) que no toman ni deben tomar una referencia\
    \ especulativa. Dado que las p\xE1ginas de Hugetlb no usan recuentos de mapas\
    \ de p\xE1ginas individuales (siempre est\xE1n completamente asignadas y usan\
    \ el campo Whole_mapcount para registrar el n\xFAmero de asignaciones), el campo\
    \ PageType est\xE1 disponible ahora que page_mapcount() ignora el valor en este\
    \ campo. En compactaci\xF3n y con CONFIG_DEBUG_VM habilitado, la implementaci\xF3\
    n actual puede resultar en un error, seg\xFAn lo informado por Luis. Esto sucede\
    \ desde que 9c5ccf2db04b (\"mm: eliminar HUGETLB_PAGE_DTOR\") agreg\xF3 efectivamente\
    \ algunas comprobaciones de VM_BUG_ON() en la ruta de prueba de PageHuge(). [willy@infradead.org:\
    \ actualizar vmcoreinfo] Enlace: https://lkml.kernel.org/r/ZgGZUvsdhaT1Va-T@casper.infradead.org"
id: CVE-2024-35993
lastModified: '2024-05-20T13:00:04.957'
metrics: {}
published: '2024-05-20T10:15:13.463'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/2431b5f2650dfc47ce782d1ca7b02d6b3916976f
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/9fdcc5b6359dfdaa52a55033bf50e2cedd66eb32
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/d99e3140a4d33e26066183ff727d8f02f56bec64
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
