cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    s390/mm: Fix VM_FAULT_HWPOISON handling in do_exception()


    There is no support for HWPOISON, MEMORY_FAILURE, or ARCH_HAS_COPY_MC on

    s390. Therefore we do not expect to see VM_FAULT_HWPOISON in

    do_exception().


    However, since commit af19487f00f3 ("mm: make PTE_MARKER_SWAPIN_ERROR more

    general"), it is possible to see VM_FAULT_HWPOISON in combination with

    PTE_MARKER_POISONED, even on architectures that do not support HWPOISON

    otherwise. In this case, we will end up on the BUG() in do_exception().


    Fix this by treating VM_FAULT_HWPOISON the same as VM_FAULT_SIGBUS, similar

    to x86 when MEMORY_FAILURE is not configured. Also print unexpected fault

    flags, for easier debugging.


    Note that VM_FAULT_HWPOISON_LARGE is not expected, because s390 cannot

    support swap entries on other levels than PTE level.'
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: s390/mm:\
    \ corrija el manejo de VM_FAULT_HWPOISON en do_exception() No hay soporte para\
    \ HWPOISON, MEMORY_FAILURE o ARCH_HAS_COPY_MC en s390. Por lo tanto, no esperamos\
    \ ver VM_FAULT_HWPOISON en do_exception(). Sin embargo, desde la confirmaci\xF3\
    n af19487f00f3 (\"mm: hacer que PTE_MARKER_SWAPIN_ERROR sea m\xE1s general\"),\
    \ es posible ver VM_FAULT_HWPOISON en combinaci\xF3n con PTE_MARKER_POISONED,\
    \ incluso en arquitecturas que no admiten HWPOISON de otra manera. En este caso,\
    \ terminaremos en el ERROR() en do_exception(). Solucione este problema tratando\
    \ VM_FAULT_HWPOISON de la misma manera que VM_FAULT_SIGBUS, similar a x86 cuando\
    \ MEMORY_FAILURE no est\xE1 configurado. Tambi\xE9n imprima indicadores defallos\
    \ inesperadas para facilitar la depuraci\xF3n. Tenga en cuenta que no se espera\
    \ VM_FAULT_HWPOISON_LARGE, porque s390 no puede admitir entradas de intercambio\
    \ en otros niveles que no sean el nivel PTE."
id: CVE-2024-41021
lastModified: '2024-08-12T13:38:29.623'
metrics: {}
published: '2024-07-29T14:15:03.870'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/73a9260b7366d2906ec011e100319359fe2277d0
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/9e13767ccefdc4f8aa92514b592b60f6b54882ff
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/a3aefb871222a9880602d1a44a558177b4143e3b
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/df39038cd89525d465c2c8827eb64116873f141a
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
