descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    scsi: lpfc: Move NPIV''s transport unregistration to after resource clean up


    There are cases after NPIV deletion where the fabric switch still believes

    the NPIV is logged into the fabric.  This occurs when a vport is

    unregistered before the Remove All DA_ID CT and LOGO ELS are sent to the

    fabric.


    Currently fc_remove_host(), which calls dev_loss_tmo for all D_IDs including

    the fabric D_ID, removes the last ndlp reference and frees the ndlp rport

    object.  This sometimes causes the race condition where the final DA_ID and

    LOGO are skipped from being sent to the fabric switch.


    Fix by moving the fc_remove_host() and scsi_remove_host() calls after DA_ID

    and LOGO are sent.'
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: scsi:\
    \ lpfc: Mover la anulaci\xF3n del registro de transporte de NPIV a despu\xE9s\
    \ de la limpieza de recursos. Hay casos despu\xE9s de la eliminaci\xF3n de NPIV\
    \ en los que el conmutador de tejido todav\xEDa cree que el NPIV est\xE1 registrado\
    \ en el tejido. Esto ocurre cuando se cancela el registro de un vport antes de\
    \ que Remove All DA_ID CT y LOGO ELS se env\xEDen a la estructura. Actualmente,\
    \ fc_remove_host(), que llama a dev_loss_tmo para todos los D_ID, incluido el\
    \ D_ID de tejido, elimina la \xFAltima referencia de ndlp y libera el objeto de\
    \ informe de ndlp. Esto a veces provoca la condici\xF3n de ejecuci\xF3n en la\
    \ que el DA_ID y el LOGO finales no se env\xEDan al conmutador de estructura.\
    \ Para solucionarlo, mueva las llamadas fc_remove_host() y scsi_remove_host()\
    \ despu\xE9s de enviar DA_ID y LOGO."
id: CVE-2024-36952
lastModified: '2024-05-30T18:18:58.870'
metrics: {}
published: '2024-05-30T16:15:18.150'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0936809d968ecf81e0726fbd02ff2a5732d960c3
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4ddf01f2f1504fa08b766e8cfeec558e9f8eef6c
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/718602cd15f4c5710850090ea3066a89eeb46278
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/76337eb8daee32bcc67742efab3168ed4ca299d0
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/f2c7f029051edc4b394bb48edbe2297575abefe0
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
