descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    vfio/pci: Create persistent INTx handler


    A vulnerability exists where the eventfd for INTx signaling can be

    deconfigured, which unregisters the IRQ handler but still allows

    eventfds to be signaled with a NULL context through the SET_IRQS ioctl

    or through unmask irqfd if the device interrupt is pending.


    Ideally this could be solved with some additional locking; the igate

    mutex serializes the ioctl and config space accesses, and the interrupt

    handler is unregistered relative to the trigger, but the irqfd path

    runs asynchronous to those.  The igate mutex cannot be acquired from the

    atomic context of the eventfd wake function.  Disabling the irqfd

    relative to the eventfd registration is potentially incompatible with

    existing userspace.


    As a result, the solution implemented here moves configuration of the

    INTx interrupt handler to track the lifetime of the INTx context object

    and irq_type configuration, rather than registration of a particular

    trigger eventfd.  Synchronization is added between the ioctl path and

    eventfd_signal() wrapper such that the eventfd trigger can be

    dynamically updated relative to in-flight interrupts or irqfd callbacks.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: vfio/pci:\
    \ crear un controlador INTx persistente Existe una vulnerabilidad donde se puede\
    \ desconfigurar el eventfd para la se\xF1alizaci\xF3n INTx, lo que anula el registro\
    \ del controlador IRQ pero a\xFAn permite que los eventfds se se\xF1alen con un\
    \ contexto NULL a trav\xE9s de el SET_IRQS ioctl o mediante unmask irqfd si la\
    \ interrupci\xF3n del dispositivo est\xE1 pendiente. Idealmente, esto podr\xED\
    a solucionarse con alg\xFAn bloqueo adicional; el igate mutex serializa los accesos\
    \ al espacio ioctl y de configuraci\xF3n, y el controlador de interrupciones no\
    \ est\xE1 registrado en relaci\xF3n con el disparador, pero la ruta irqfd se ejecuta\
    \ de forma asincr\xF3nica con respecto a ellos. El mutex igate no se puede adquirir\
    \ desde el contexto at\xF3mico de la funci\xF3n de activaci\xF3n eventfd. Deshabilitar\
    \ el irqfd en relaci\xF3n con el registro de eventfd es potencialmente incompatible\
    \ con el espacio de usuario existente. Como resultado, la soluci\xF3n implementada\
    \ aqu\xED mueve la configuraci\xF3n del controlador de interrupciones INTx para\
    \ rastrear la vida \xFAtil del objeto de contexto INTx y la configuraci\xF3n irq_type,\
    \ en lugar del registro de un evento desencadenante particular. Se agrega sincronizaci\xF3\
    n entre la ruta ioctl y el contenedor eventfd_signal() de modo que el disparador\
    \ eventfd se pueda actualizar din\xE1micamente en relaci\xF3n con las interrupciones\
    \ en curso o las devoluciones de llamada irqfd."
id: CVE-2024-26812
lastModified: '2024-06-25T22:15:23.193'
metrics: {}
published: '2024-04-05T09:15:09.283'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0e09cf81959d9f12b75ad5c6dd53d237432ed034
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/18c198c96a815c962adc2b9b77909eec0be7df4d
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/27d40bf72dd9a6600b76ad05859176ea9a1b4897
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4c089cefe30924fbe20dd1ee92774ea1f5eca834
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4cb0d7532126d23145329826c38054b4e9a05e7c
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/69276a555c740acfbff13fb5769ee9c92e1c828e
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/7d29d4c72c1e196cce6969c98072a272d1a703b3
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/b18fa894d615c8527e15d96b76c7448800e13899
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://lists.debian.org/debian-lts-announce/2024/06/msg00017.html
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
