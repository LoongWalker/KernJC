descriptions:
- lang: en
  value: "In the Linux kernel, the following vulnerability has been resolved:\n\n\
    media: aspeed: fix clock handling logic\n\nVideo engine uses eclk and vclk for\
    \ its clock sources and its reset\ncontrol is coupled with eclk so the current\
    \ clock enabling sequence works\nlike below.\n\n Enable eclk\n De-assert Video\
    \ Engine reset\n 10ms delay\n Enable vclk\n\nIt introduces improper reset on the\
    \ Video Engine hardware and eventually\nthe hardware generates unexpected DMA\
    \ memory transfers that can corrupt\nmemory region in random and sporadic patterns.\
    \ This issue is observed\nvery rarely on some specific AST2500 SoCs but it causes\
    \ a critical\nkernel panic with making a various shape of signature so it's extremely\n\
    hard to debug. Moreover, the issue is observed even when the video\nengine is\
    \ not actively used because udevd turns on the video engine\nhardware for a short\
    \ time to make a query in every boot.\n\nTo fix this issue, this commit changes\
    \ the clock handling logic to make\nthe reset de-assertion triggered after enabling\
    \ both eclk and vclk. Also,\nit adds clk_unprepare call for a case when probe\
    \ fails.\n\nclk: ast2600: fix reset settings for eclk and vclk\nVideo engine reset\
    \ setting should be coupled with eclk to match it\nwith the setting for previous\
    \ Aspeed SoCs which is defined in\nclk-aspeed.c since all Aspeed SoCs are sharing\
    \ a single video engine\ndriver. Also, reset bit 6 is defined as 'Video Engine'\
    \ reset in\ndatasheet so it should be de-asserted when eclk is enabled. This\n\
    commit fixes the setting."
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: medios:\
    \ aspeed: corrige la l\xF3gica de manejo del reloj El motor de video usa eclk\
    \ y vclk para sus fuentes de reloj y su control de reinicio est\xE1 acoplado con\
    \ eclk para que la secuencia de habilitaci\xF3n del reloj actual funcione como\
    \ se muestra a continuaci\xF3n. Habilitar eclk De-assert Video Engine restablece\
    \ un retraso de 10 ms Habilitar vclk Introduce un reinicio incorrecto en el hardware\
    \ de Video Engine y eventualmente el hardware genera transferencias de memoria\
    \ DMA inesperadas que pueden da\xF1ar la regi\xF3n de la memoria en patrones aleatorios\
    \ y espor\xE1dicos. Este problema se observa muy raramente en algunos SoC AST2500\
    \ espec\xEDficos, pero provoca un p\xE1nico cr\xEDtico en el kernel al crear varias\
    \ formas de firma, por lo que es extremadamente dif\xEDcil de depurar. Adem\xE1\
    s, el problema se observa incluso cuando el motor de v\xEDdeo no se utiliza activamente\
    \ porque udevd enciende el hardware del motor de v\xEDdeo durante un breve periodo\
    \ de tiempo para realizar una consulta en cada arranque. Para solucionar este\
    \ problema, esta confirmaci\xF3n cambia la l\xF3gica de manejo del reloj para\
    \ activar la anulaci\xF3n de reinicio despu\xE9s de habilitar tanto eclk como\
    \ vclk. Adem\xE1s, agrega la llamada clk_unprepare para un caso en el que falla\
    \ la sonda. clk: ast2600: corrige la configuraci\xF3n de restablecimiento para\
    \ eclk y vclk La configuraci\xF3n de restablecimiento del motor de video debe\
    \ combinarse con eclk para que coincida con la configuraci\xF3n de los SoC Aspeed\
    \ anteriores que se define en clk-aspeed.c, ya que todos los SoC Aspeed comparten\
    \ un \xFAnico controlador de motor de video. Adem\xE1s, el bit de reinicio 6 se\
    \ define como reinicio del 'Motor de video' en la hoja de datos, por lo que debe\
    \ desactivarse cuando eclk est\xE1 habilitado. Este commit corrige la configuraci\xF3\
    n."
id: CVE-2020-36787
lastModified: '2024-02-28T14:06:45.783'
metrics: {}
published: '2024-02-28T09:15:37.030'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/1dc1d30ac101bb8335d9852de2107af60c2580e7
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/2964c37563e86cfdc439f217eb3c5a69adfdba6a
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/3536169f8531c2c5b153921dc7d1ac9fd570cda7
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/75321dc8aebe3f30eff226028fe6da340fe0bf02
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/a59d01384c80a8a4392665802df57c3df20055f5
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
