cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    btrfs: remove BUG() after failure to insert delayed dir index item


    Instead of calling BUG() when we fail to insert a delayed dir index item

    into the delayed node''s tree, we can just release all the resources we

    have allocated/acquired before and return the error to the caller. This is

    fine because all existing call chains undo anything they have done before

    calling btrfs_insert_delayed_dir_index() or BUG_ON (when creating pending

    snapshots in the transaction commit path).


    So remove the BUG() call and do proper error handling.


    This relates to a syzbot report linked below, but does not fix it because

    it only prevents hitting a BUG(), it does not fix the issue where somehow

    we attempt to use twice the same index number for different index items.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: btrfs:\
    \ elimina BUG() despu\xE9s de no poder insertar un elemento de \xEDndice de directorio\
    \ retrasado. En lugar de llamar a BUG() cuando no logramos insertar un elemento\
    \ de \xEDndice de directorio retrasado en el \xE1rbol del nodo retrasado, podemos\
    \ simplemente libere todos los recursos que hemos asignado/adquirido antes y devuelva\
    \ el error a la persona que llama. Esto est\xE1 bien porque todas las cadenas\
    \ de llamadas existentes deshacen todo lo que hayan hecho antes de llamar a btrfs_insert_delayed_dir_index()\
    \ o BUG_ON (al crear instant\xE1neas pendientes en la ruta de confirmaci\xF3n\
    \ de la transacci\xF3n). As\xED que elimine la llamada BUG() y realice un manejo\
    \ adecuado de los errores. Esto se relaciona con un informe de syzbot vinculado\
    \ a continuaci\xF3n, pero no lo soluciona porque solo evita que se produzca un\
    \ ERROR (), no soluciona el problema por el cual de alguna manera intentamos usar\
    \ el doble del mismo n\xFAmero de \xEDndice para diferentes elementos de \xED\
    ndice."
id: CVE-2023-52569
lastModified: '2024-03-04T13:58:23.447'
metrics: {}
published: '2024-03-02T22:15:49.163'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/2c58c3931ede7cd08cbecf1f1a4acaf0a04a41a9
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/39c4a9522db0072570d602e9b365119e17fb9f4f
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/d10fd53393cc5de4b9cf1a4b8f9984f0a037aa51
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
