cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    scsi: iscsi: Fix iscsi_task use after free


    Commit d39df158518c ("scsi: iscsi: Have abort handler get ref to conn")

    added iscsi_get_conn()/iscsi_put_conn() calls during abort handling but

    then also changed the handling of the case where we detect an already

    completed task where we now end up doing a goto to the common put/cleanup

    code. This results in a iscsi_task use after free, because the common

    cleanup code will do a put on the iscsi_task.


    This reverts the goto and moves the iscsi_get_conn() to after we''ve checked

    if the iscsi_task is valid.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: scsi:\
    \ iscsi: corrige el uso after free de iscsi_task. Confirmaci\xF3n d39df158518c\
    \ (\"scsi: iscsi: Have abort handler get ref to conn\") se agregaron llamadas\
    \ iscsi_get_conn()/iscsi_put_conn() durante el manejo de abortos pero luego tambi\xE9\
    n cambi\xF3 el manejo del caso en el que detectamos una tarea ya completada y\
    \ ahora terminamos haciendo un acceso al c\xF3digo com\xFAn de put/cleanup. Esto\
    \ da como resultado un uso de iscsi_task despu\xE9s de la liberaci\xF3n, porque\
    \ el c\xF3digo de limpieza com\xFAn colocar\xE1 iscsi_task. Esto revierte el ir\
    \ a y mueve iscsi_get_conn() a despu\xE9s de haber verificado si iscsi_task es\
    \ v\xE1lido."
id: CVE-2021-47427
lastModified: '2024-05-21T16:53:56.550'
metrics: {}
published: '2024-05-21T15:15:28.117'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/1642f51ac0d4f2b55d5748094c49ff8f7191b93c
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/258aad75c62146453d03028a44f2f1590d58e1f6
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
