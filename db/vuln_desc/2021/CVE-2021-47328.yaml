cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    scsi: iscsi: Fix conn use after free during resets


    If we haven''t done a unbind target call we can race where

    iscsi_conn_teardown wakes up the EH thread and then frees the conn while

    those threads are still accessing the conn ehwait.


    We can only do one TMF per session so this just moves the TMF fields from

    the conn to the session. We can then rely on the

    iscsi_session_teardown->iscsi_remove_session->__iscsi_unbind_session call

    to remove the target and it''s devices, and know after that point there is

    no device or scsi-ml callout trying to access the session.'
- lang: es
  value: "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: scsi:\
    \ iscsi: corrige el uso de la conexi\xF3n despu\xE9s de liberarla durante los\
    \ reinicios. Si no hemos realizado una llamada de destino de desvinculaci\xF3\
    n, podemos correr donde iscsi_conn_teardown activa el subproceso EH y luego libera\
    \ la conexi\xF3n mientras esos Los hilos todav\xEDa est\xE1n accediendo a la conexi\xF3\
    n ehwait. Solo podemos hacer un TMF por sesi\xF3n, por lo que esto simplemente\
    \ mueve los campos TMF de la conexi\xF3n a la sesi\xF3n. Luego podemos confiar\
    \ en la llamada iscsi_session_teardown-&gt;iscsi_remove_session-&gt;__iscsi_unbind_session\
    \ para eliminar el objetivo y sus dispositivos, y saber despu\xE9s de ese punto\
    \ que no hay ning\xFAn dispositivo o llamada scsi-ml intentando acceder a la sesi\xF3\
    n."
id: CVE-2021-47328
lastModified: '2024-05-21T16:54:26.047'
metrics: {}
published: '2024-05-21T15:15:19.823'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/89812e7957ab0746eab66ed6fc49d52bb4dca250
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/bf20d85a88384574fabb3d53ad62a8af57e7ab11
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/d04958a348e560938410e04a12fb99da9c7e6a00
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/ec29d0ac29be366450a7faffbcf8cba3a6a3b506
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/f0a031f7c55ffd944fead1ddaf2aa94df9a158c1
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/fa9542b35ceb4202e8f8d65f440529a63524dca9
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
