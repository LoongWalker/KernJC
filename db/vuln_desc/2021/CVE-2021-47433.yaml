cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    btrfs: fix abort logic in btrfs_replace_file_extents


    Error injection testing uncovered a case where we''d end up with a

    corrupt file system with a missing extent in the middle of a file.  This

    occurs because the if statement to decide if we should abort is wrong.


    The only way we would abort in this case is if we got a ret !=

    -EOPNOTSUPP and we called from the file clone code.  However the

    prealloc code uses this path too.  Instead we need to abort if there is

    an error, and the only error we _don''t_ abort on is -EOPNOTSUPP and only

    if we came from the clone file code.'
- lang: es
  value: "En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: btrfs:\
    \ corrige la l\xF3gica de aborto en btrfs_replace_file_extents Las pruebas de\
    \ inyecci\xF3n de errores descubrieron un caso en el que terminar\xEDamos con\
    \ un sistema de archivos corrupto al que le faltaba una extensi\xF3n en medio\
    \ de un archivo. Esto ocurre porque la declaraci\xF3n if para decidir si debemos\
    \ abortar es incorrecta. La \xFAnica manera de abortar en este caso es si obtenemos\
    \ un ret! = -EOPNOTSUPP y llamamos desde el c\xF3digo de clonaci\xF3n del archivo.\
    \ Sin embargo, el c\xF3digo de preasignaci\xF3n tambi\xE9n utiliza esta ruta.\
    \ En lugar de eso, debemos abortar si hay un error, y el \xFAnico error por el\
    \ que _no_ abortamos es -EOPNOTSUPP y solo si venimos del c\xF3digo del archivo\
    \ clonado."
id: CVE-2021-47433
lastModified: '2024-05-22T12:46:53.887'
metrics: {}
published: '2024-05-22T07:15:08.347'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0e309e1152fc34ef75991d9d69b165dbf75bf26c
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0e32a2b85c7d92ece86c17dfef390c5ed79c6378
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4afb912f439c4bc4e6a4f3e7547f2e69e354108f
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
