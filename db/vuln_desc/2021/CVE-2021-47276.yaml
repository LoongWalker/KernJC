cveTags: []
descriptions:
- lang: en
  value: 'In the Linux kernel, the following vulnerability has been resolved:


    ftrace: Do not blindly read the ip address in ftrace_bug()


    It was reported that a bug on arm64 caused a bad ip address to be used for

    updating into a nop in ftrace_init(), but the error path (rightfully)

    returned -EINVAL and not -EFAULT, as the bug caused more than one error to

    occur. But because -EINVAL was returned, the ftrace_bug() tried to report

    what was at the location of the ip address, and read it directly. This

    caused the machine to panic, as the ip was not pointing to a valid memory

    address.


    Instead, read the ip address with copy_from_kernel_nofault() to safely

    access the memory, and if it faults, report that the address faulted,

    otherwise report what was in that location.'
- lang: es
  value: " En el kernel de Linux, se resolvi\xF3 la siguiente vulnerabilidad: ftrace:\
    \ no lea ciegamente la direcci\xF3n IP en ftrace_bug(). Se inform\xF3 que un error\
    \ en arm64 provoc\xF3 que se usara una direcci\xF3n IP incorrecta para actualizar\
    \ a un nop en ftrace_init() , pero la ruta de error (con raz\xF3n) devolvi\xF3\
    \ -EINVAL y no -EFAULT, ya que el error provoc\xF3 que ocurriera m\xE1s de un\
    \ error. Pero debido a que se devolvi\xF3 -EINVAL, ftrace_bug() intent\xF3 informar\
    \ qu\xE9 hab\xEDa en la ubicaci\xF3n de la direcci\xF3n IP y leerlo directamente.\
    \ Esto provoc\xF3 que la m\xE1quina entrara en p\xE1nico, ya que la IP no apuntaba\
    \ a una direcci\xF3n de memoria v\xE1lida. En su lugar, lea la direcci\xF3n IP\
    \ con copy_from_kernel_nofault() para acceder de forma segura a la memoria y,\
    \ si falla, informe que la direcci\xF3n fall\xF3; de lo contrario, informe qu\xE9\
    \ hab\xEDa en esa ubicaci\xF3n."
id: CVE-2021-47276
lastModified: '2024-05-21T16:54:26.047'
metrics: {}
published: '2024-05-21T15:15:15.983'
references:
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/0bc62e398bbd9e600959e610def5109957437b28
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/3e4ddeb68751fb4fb657199aed9cfd5d02796875
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/4aedc2bc2b32c93555f47c95610efb89cc1ec09b
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/6c14133d2d3f768e0a35128faac8aa6ed4815051
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/7e4e824b109f1d41ccf223fbb0565d877d6223a2
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/862dcc14f2803c556bdd73b43c27b023fafce2fb
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/97524384762c1fb9b3ded931498dd2047bd0de81
- source: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
  url: https://git.kernel.org/stable/c/acf671ba79c1feccc3ec7cfdcffead4efcec49e7
sourceIdentifier: 416baaa9-dc9f-4396-8d5f-8c081fb06d67
vulnStatus: Awaiting Analysis
